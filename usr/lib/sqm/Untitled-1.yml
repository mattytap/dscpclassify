root@m300-WatchGuard-M300:~# service sqm start
SQM:
SQM: Fri Nov 17 06:23:24 GMT 2023: Starting.
SQM: Starting SQM script: autorate-ct.qos on eth0, in: 125000 Kbps, out: 20000 Kbps
SQM: fn_exists: function candidate name: sqm_start
SQM: fn_exists: TYPE_OUTPUT: sqm_start: not found
SQM: fn_exists: return value: 1
SQM: Using generic sqm_start_default function.
SQM: fn_exists: function candidate name: sqm_prepare_script
SQM: fn_exists: TYPE_OUTPUT: sqm_prepare_script: not found
SQM: fn_exists: return value: 1
SQM: sqm_start_default: no sqm_prepare_script function found, proceeding without.
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name SQM_IFB_cdf7c type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link add name SQM_IFB_cdf7c type ifb
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc replace dev SQM_IFB_cdf7c root cake
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc replace dev SQM_IFB_cdf7c root cake
SQM: QDISC cake is useable.
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev SQM_IFB_cdf7c down
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev SQM_IFB_cdf7c down
SQM: cmd_wrapper: COMMAND: /sbin/ip link delete SQM_IFB_cdf7c type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link delete SQM_IFB_cdf7c type ifb
SQM: sqm_start_default: Starting autorate-ct.qos
SQM: ifb associated with interface eth0:
SQM: Currently no ifb is associated with eth0, this is normal during starting of the sqm system.
SQM: ERROR: 1
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name ifb-ingress type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link add name ifb-ingress type ifb
SQM: fn_exists: function candidate name: egress
SQM: fn_exists: TYPE_OUTPUT: egress is a function
SQM: fn_exists: return value: 0
SQM: egress
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev eth0 root
SQM: cmd_wrapper: tc: FAILURE (2): /sbin/tc qdisc del dev eth0 root
SQM: cmd_wrapper: tc: LAST ERROR: RTNETLINK answers: No such file or directory
SQM: LLA: default link layer adjustment method for cake is cake
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev eth0 root cake bandwidth 20000kbit besteffort flows
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev eth0 root cake bandwidth 20000kbit besteffort flows
SQM: sqm_start_default: egress shaping activated
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name SQM_IFB_510cc type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link add name SQM_IFB_510cc type ifb
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc replace dev SQM_IFB_510cc ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc replace dev SQM_IFB_510cc ingress
SQM: QDISC ingress is useable.
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev SQM_IFB_510cc down
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev SQM_IFB_510cc down
SQM: cmd_wrapper: COMMAND: /sbin/ip link delete SQM_IFB_510cc type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link delete SQM_IFB_510cc type ifb
SQM: fn_exists: function candidate name: ingress
SQM: fn_exists: TYPE_OUTPUT: ingress is a function
SQM: fn_exists: return value: 0
SQM: ingress
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev eth0 handle ffff: ingress
SQM: cmd_wrapper: tc: FAILURE (2): /sbin/tc qdisc del dev eth0 handle ffff: ingress
SQM: cmd_wrapper: tc: LAST ERROR: RTNETLINK answers: Invalid argument
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev eth0 handle ffff: ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev eth0 handle ffff: ingress
SQM: cmd_wrapper: COMMAND: /sbin/tc filter add dev eth0 parent ffff: protocol ip prio 1 u32 match ip src 146.70.96.66/32 action pass
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc filter add dev eth0 parent ffff: protocol ip prio 1 u32 match ip src 146.70.96.66/32 action pass
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev ifb-ingress root
SQM: cmd_wrapper: tc: FAILURE (2): /sbin/tc qdisc del dev ifb-ingress root
SQM: cmd_wrapper: tc: LAST ERROR: RTNETLINK answers: No such file or directory
SQM: LLA: default link layer adjustment method for cake is cake
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev ifb-ingress root cake bandwidth 125000kbit diffserv4 triple-isolate nat ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev ifb-ingress root cake bandwidth 125000kbit diffserv4 triple-isolate nat ingress
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev ifb-ingress up
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev ifb-ingress up
SQM: cmd_wrapper: COMMAND: /sbin/tc filter add dev eth0 parent ffff: prio 2 matchall action ctinfo dscp 0x0000003f mirred egress redirect dev ifb-ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc filter add dev eth0 parent ffff: prio 2 matchall action ctinfo dscp 0x0000003f mirred egress redirect dev ifb-ingress
SQM: sqm_start_default: ingress shaping activated
SQM: autorate-ct.qos was started on eth0 successfully
SQM:
SQM: Fri Nov 17 06:23:25 GMT 2023: Starting.
SQM: Starting SQM script: autorate-ct.qos on 0_vpn, in: 190000 Kbps, out: 50000 Kbps
SQM: fn_exists: function candidate name: sqm_start
SQM: fn_exists: TYPE_OUTPUT: sqm_start: not found
SQM: fn_exists: return value: 1
SQM: Using generic sqm_start_default function.
SQM: fn_exists: function candidate name: sqm_prepare_script
SQM: fn_exists: TYPE_OUTPUT: sqm_prepare_script: not found
SQM: fn_exists: return value: 1
SQM: sqm_start_default: no sqm_prepare_script function found, proceeding without.
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name SQM_IFB_9587a type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link add name SQM_IFB_9587a type ifb
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc replace dev SQM_IFB_9587a root cake
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc replace dev SQM_IFB_9587a root cake
SQM: QDISC cake is useable.
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev SQM_IFB_9587a down
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev SQM_IFB_9587a down
SQM: cmd_wrapper: COMMAND: /sbin/ip link delete SQM_IFB_9587a type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link delete SQM_IFB_9587a type ifb
SQM: sqm_start_default: Starting autorate-ct.qos
SQM: ifb associated with interface 0_vpn:
SQM: Currently no ifb is associated with 0_vpn, this is normal during starting of the sqm system.
SQM: ERROR: 1
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name ifb-ingress type ifb
SQM: ERROR: cmd_wrapper: ip: FAILURE (2): /sbin/ip link add name ifb-ingress type ifb
SQM: ERROR: cmd_wrapper: ip: LAST ERROR: RTNETLINK answers: File exists
SQM: fn_exists: function candidate name: egress
SQM: fn_exists: TYPE_OUTPUT: egress is a function
SQM: fn_exists: return value: 0
SQM: egress
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev 0_vpn root
SQM: cmd_wrapper: tc: FAILURE (2): /sbin/tc qdisc del dev 0_vpn root
SQM: cmd_wrapper: tc: LAST ERROR: RTNETLINK answers: No such file or directory
SQM: LLA: default link layer adjustment method for cake is cake
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev 0_vpn root cake bandwidth 50000kbit diffserv4 triple-isolate nat ack-filter
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev 0_vpn root cake bandwidth 50000kbit diffserv4 triple-isolate nat ack-filter
SQM: sqm_start_default: egress shaping activated
SQM: cmd_wrapper: COMMAND: /sbin/ip link add name SQM_IFB_6efee type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link add name SQM_IFB_6efee type ifb
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc replace dev SQM_IFB_6efee ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc replace dev SQM_IFB_6efee ingress
SQM: QDISC ingress is useable.
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev SQM_IFB_6efee down
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev SQM_IFB_6efee down
SQM: cmd_wrapper: COMMAND: /sbin/ip link delete SQM_IFB_6efee type ifb
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link delete SQM_IFB_6efee type ifb
SQM: fn_exists: function candidate name: ingress
SQM: fn_exists: TYPE_OUTPUT: ingress is a function
SQM: fn_exists: return value: 0
SQM: ingress
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev 0_vpn handle ffff: ingress
SQM: cmd_wrapper: tc: FAILURE (2): /sbin/tc qdisc del dev 0_vpn handle ffff: ingress
SQM: cmd_wrapper: tc: LAST ERROR: RTNETLINK answers: Invalid argument
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev 0_vpn handle ffff: ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev 0_vpn handle ffff: ingress
SQM: cmd_wrapper: tc: invocation silenced by request, FAILURE either expected or acceptable.
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc del dev ifb-ingress root
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc del dev ifb-ingress root
SQM: LLA: default link layer adjustment method for cake is cake
SQM: cmd_wrapper: COMMAND: /sbin/tc qdisc add dev ifb-ingress root cake bandwidth 190000kbit diffserv4 triple-isolate nat ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc qdisc add dev ifb-ingress root cake bandwidth 190000kbit diffserv4 triple-isolate nat ingress
SQM: cmd_wrapper: COMMAND: /sbin/ip link set dev ifb-ingress up
SQM: cmd_wrapper: ip: SUCCESS: /sbin/ip link set dev ifb-ingress up
SQM: cmd_wrapper: COMMAND: /sbin/tc filter add dev 0_vpn parent ffff: prio 2 matchall action ctinfo dscp 0x0000003f mirred egress redirect dev ifb-ingress
SQM: cmd_wrapper: tc: SUCCESS: /sbin/tc filter add dev 0_vpn parent ffff: prio 2 matchall action ctinfo dscp 0x0000003f mirred egress redirect dev ifb-ingress
SQM: sqm_start_default: ingress shaping activated
SQM: autorate-ct.qos was started on 0_vpn successfully
root@m300-WatchGuard-M300:~#